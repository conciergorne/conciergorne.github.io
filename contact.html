<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact & Devis - ConciergOrne</title>
    <link rel="stylesheet" href="contact.css">
</head>
<body>

<header class="page-header">
  <img src="header-bg.png" alt="Bagnoles-de-l'Orne vue aérienne" class="header-img">
  <div class="header-overlay">
    <img src="logo.png" alt="ConciergOrne" class="logo-header">
    <h1>Contact & Demande de devis</h1>
  </div>
</header>

<main class="container">
  <form id="devis-form" action="https://formspree.io/f/mnjjpozg" method="POST">
    
    <label for="nom">Nom complet :</label>
    <input type="text" id="nom" name="nom" required>

    <label for="email">Email :</label>
    <input type="email" id="email" name="email" required>

    <label for="telephone">Téléphone :</label>
    <input type="tel" id="telephone" name="telephone" required>

    <label for="type-logement">Type de logement :</label>
    <input type="text" id="type-logement" name="type-logement" required>

    <label for="surface">Surface estimée (m²) :</label>
    <input type="number" id="surface" name="surface" required>

    <label for="pack">Pack de conciergerie :</label>
    <select id="pack" name="pack">
      <option value="">-- Sélectionner --</option>
      <option value="Essentiel">Essentiel</option>
      <option value="Standard">Standard</option>
      <option value="Confort">Confort</option>
      <option value="Premium">Premium</option>
    </select>

    <label for="menage">Ménage :</label>
    <select id="menage" name="menage">
      <option value="">-- Sélectionner --</option>
      <option value="Petit (0-40m²)">Petit (0-40m²) : 40€</option>
      <option value="Moyen (41-70m²)">Moyen (41-70m²) : 55€</option>
      <option value="Grand (71-100m²)">Grand (71-100m²) : 70€</option>
      <option value="Très grand (100m²+)">Très grand (100m²+) : 90€</option>
    </select>

    <label for="linge">Linge :</label>
    <select id="linge" name="linge">
      <option value="">-- Sélectionner --</option>
      <option value="Petit (0-40m²)">Petit (0-40m²) : 10€</option>
      <option value="Moyen (41-70m²)">Moyen (41-70m²) : 15€</option>
      <option value="Grand (71-100m²)">Grand (71-100m²) : 20€</option>
      <option value="Très grand (100m²+)">Très grand (100m²+) : 25€</option>
    </select>

    <label for="bricolage">Bricolage / Petites réparations :</label>
    <select id="bricolage" name="bricolage">
      <option value="">-- Sélectionner --</option>
      <option value="Électricité - Remplacement prise">Électricité - Remplacement prise : 25€</option>
      <option value="Électricité - Pose plafonnier">Électricité - Pose plafonnier : 30€</option>
      <option value="Plomberie - Remplacement robinet">Plomberie - Remplacement robinet : 35€</option>
      <option value="Menuiserie - Montage meuble">Menuiserie - Montage meuble : 30€</option>
      <option value="Divers - Pose détecteur fumée">Divers - Pose détecteur fumée : 20€</option>
      <!-- Ajouter le reste des bricolages ici si nécessaire -->
    </select>

    <label for="message">Votre message :</label>
    <textarea id="message" name="message" rows="5"></textarea>

    <div class="actions">
      <button type="submit" class="btn primary">Envoyer ma demande</button>
      <a href="index.html" class="btn secondary">Accueil</a>
    </div>

    <div class="urgent-info">
      Pour une prestation urgente à réaliser dans les 24h, vous pouvez nous envoyer un SMS au 07 71 62 39 74. Un supplément de 5 € peut être appliqué pour une intervention urgente.
    </div>

    <div id="feedback" class="feedback-success" style="display:none;">
      Votre demande a été envoyée. Nous vous répondrons dans un délai de 24h.
    </div>
  </form>
</main>

<script>
  const form = document.getElementById('devis-form');
  const feedback = document.getElementById('feedback');
  form.addEventListener('submit', (e) => {
    e.preventDefault();
    fetch(form.action, {
      method: 'POST',
      body: new FormData(form),
      headers: { 'Accept': 'application/json' }
    }).then(response => {
      if(response.ok){
        feedback.style.display = 'block';
        form.reset();
        form.scrollIntoView({behavior: "smooth"});
      } else { alert("Une erreur est survenue, veuillez réessayer."); }
    });
  });
</script>

</body>
</html>
